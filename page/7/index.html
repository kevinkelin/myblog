<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#33363b">
    <meta name="msapplication-TileColor" content="#33363b">
    
    
    
    <meta name="keywords" content="python, 自动化测试, tornado, webpy, 微信公众号">
    
    
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico">
    
    
    <link rel="icon" type="image/png" sizes="192x192" href="/favicons.ico">
    
    
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
    
    
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">
    
    
    <link rel="mask-icon" href="/favicons.svg" color="#33363b">
    
    
    <link rel="manifest" href="/favicons/site.webmanifest">
    
    
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    
    
    <link rel="alternate" href="/atom.xml" title="杨彦星" type="application/atom+xml" />
    
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    
    <link rel="stylesheet" type="text/css" href="/css/sidebar.css">
    
    
    
    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="/css/[object Object].css">
    <link rel="stylesheet" type="text/css" href="/css/lightgallery.min.css">
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <link rel="stylesheet" type="text/css" href="/js/google-code-prettify/prettify.css">
    
    <script defer type="text/javascript" src="/js/util.js"></script>
    <script defer type="text/javascript" src="/js/scrollspy.js"></script>
    <script defer type="text/javascript" src="/js/fontawesome-all.min.js"></script>
    <script defer type="text/javascript" src="/js/lightgallery.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-fullscreen.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-hash.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-pager.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-thumbnail.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-zoom.min.js"></script>
    
    
    <script defer type="text/javascript" src="/js/search.js"></script>
    <script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
    <script type="text/javascript">    
    $(document).ready(function () {
      var searchPath = "search.xml";
      if (searchPath.length === 0) {
        searchPath = "search.xml";
      }
      var path = "/" + searchPath;
      searchFunc(path, "search-input", "search-result");
      
      $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
      prettyPrint();
    });
    </script>
    
    
    <script defer type="text/javascript" src="/js/index.js"></script>
    
    <script defer type="text/javascript" src="/js/custom.js"></script>
    <title>杨彦星 - 序语程言</title>
  </head>
  <body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN"  data-spy="scroll" data-target=".list-group">
    
<header id="header" class="header">
  <div class="container">
    <div class="header-container">
      <div class="header-title">
        <h1 class="title"><a href="/">杨彦星</a></h1>
        <h2 class="subtitle">序语程言</h2>
      </div>
      
    </div>
    
<nav id="nav" class="nav">
  <a id="nav-toggle" class="nav-toggle"><i class="fas fa-bars"></i></a>
  <ul id="menu">
    
    <li><a href="/.">首页</a></li>
    
    <li><a href="/archives">归档</a></li>
    
    <li><a href="/categories">分类</a></li>
    
    <li><a href="/tags">标签</a></li>
    
    <li><a href="http://yangyanxing.lofter.com">时光</a></li>
    
    <li><a href="/about">关于</a></li>
    
  </ul>
</nav>


  </div>
</header>


    <main id="main" class="main">
      <div class="container">
        <div class="main-container">
          <div class="content">
            

<section id="index" class="index">
  
  <article class="index-post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://www.yangyanxing.com/article/877.html">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="杨彦星">
        <meta itemprop="description" content="人一切的痛苦，本质是都是对自已的无能的愤怒">
        <meta itemprop="image" content="/images/1.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="杨彦星">
      </span>
    </div>
    <header class="post-header">
      <h2 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/article/877.html" itemprop="url">使用python抓取360搜索联想词</a>
      </h2>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i> <time title="post-date" itemprop="dateCreated datePublished" datetime="2013-09-04T01:09:19+08:00">2013-09-04</time>
        </span>
        
        
        
        <span class="post-meta-divider"> | </span>
        
        <span class="post-categories">
          <i class="far fa-folder-open"></i>
          
          
          <span itemprop="about" itemscope itemtype="http://schema.org/Thing"> <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span>
          
          
        </span>
        
        
      </div>
    </header>
    <main class="post-body" itemprop="articleBody">
      
      <p>几乎所有的搜索引擎都提供联想词提示，这个小脚本其实功能性不大，只当作使用urllib2发http请求和如何使用代理来访问</p>
<p>参考文章</p>
<p><a href="http://video.sina.com.cn/v/b/113293169-1631501663.html" target="_blank" rel="noopener">http://video.sina.com.cn/v/b/113293169-1631501663.html</a><br>
      <div class="post-readmore">
        <a class="readmore button" href="/article/877.html#more">Read More <i class="fas fa-angle-double-right"></i></a>
      </div>
      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        
        
        
        
        
        <a class="post-tag button" href="/tags/python/" style="background: #fc6423" rel="tag"><i class="fas fa-tags"></i> python</a>
        
        
      </div>
      
    </footer>
  </article>
  
  <article class="index-post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://www.yangyanxing.com/article/874.html">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="杨彦星">
        <meta itemprop="description" content="人一切的痛苦，本质是都是对自已的无能的愤怒">
        <meta itemprop="image" content="/images/1.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="杨彦星">
      </span>
    </div>
    <header class="post-header">
      <h2 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/article/874.html" itemprop="url">python解析json</a>
      </h2>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i> <time title="post-date" itemprop="dateCreated datePublished" datetime="2013-08-28T01:23:05+08:00">2013-08-28</time>
        </span>
        
        
        
        <span class="post-meta-divider"> | </span>
        
        <span class="post-categories">
          <i class="far fa-folder-open"></i>
          
          
          <span itemprop="about" itemscope itemtype="http://schema.org/Thing"> <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span>
          
          
        </span>
        
        
      </div>
    </header>
    <main class="post-body" itemprop="articleBody">
      
      <p>相对于python解析XML来说，我还是比较喜欢json的格式返回，现在一般的api返回都会有json与XML格式的选择，json的解析起来个人觉得相对简单些</p>
<p>先看一个简单的豆瓣的图书查询的api返回
      <div class="post-readmore">
        <a class="readmore button" href="/article/874.html#more">Read More <i class="fas fa-angle-double-right"></i></a>
      </div>
      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        
        
        
        
        
        <a class="post-tag button" href="/tags/python/" style="background: #fc6423" rel="tag"><i class="fas fa-tags"></i> python</a>
        
        
      </div>
      
    </footer>
  </article>
  
  <article class="index-post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://www.yangyanxing.com/article/872.html">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="杨彦星">
        <meta itemprop="description" content="人一切的痛苦，本质是都是对自已的无能的愤怒">
        <meta itemprop="image" content="/images/1.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="杨彦星">
      </span>
    </div>
    <header class="post-header">
      <h2 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/article/872.html" itemprop="url">Python解析XML文档</a>
      </h2>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i> <time title="post-date" itemprop="dateCreated datePublished" datetime="2013-08-28T00:32:24+08:00">2013-08-28</time>
        </span>
        
        
        
        <span class="post-meta-divider"> | </span>
        
        <span class="post-categories">
          <i class="far fa-folder-open"></i>
          
          
          <span itemprop="about" itemscope itemtype="http://schema.org/Thing"> <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span>
          
          
        </span>
        
        
      </div>
    </header>
    <main class="post-body" itemprop="articleBody">
      
      <p>解析XML主要用到pytohn自带的XML库，其次还是lxml库</p>
<h1 id="XML结构"><a href="#XML结构" class="headerlink" title="XML结构"></a>XML结构</h1><p>先以一个相对简单但功能比较全的XML文档为例</p>
<pre><code class="xml">&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;
&lt;feed xmlns=&#39;http://www.w3.org/2005/Atom&#39; xml:lang=&#39;en&#39;&gt;
  &lt;title&gt;dive into mark&lt;/title&gt;
  &lt;subtitle&gt;currently between addictions&lt;/subtitle&gt;
  &lt;id&gt;tag:diveintomark.org,2001-07-29:/&lt;/id&gt;
  &lt;updated&gt;2009-03-27T21:56:07Z&lt;/updated&gt;
  &lt;link rel=&#39;alternate&#39; type=&#39;text/html&#39; href=&#39;http://diveintomark.org/&#39;/&gt;
  &lt;entry&gt;
    &lt;author&gt;
      &lt;name&gt;Mark&lt;/name&gt;
      &lt;uri&gt;http://diveintomark.org/&lt;/uri&gt;
    &lt;/author&gt;
    &lt;title&gt;Dive into history, 2009 edition&lt;/title&gt;
    &lt;link rel=&#39;alternate&#39; type=&#39;text/html&#39;
      href=&#39;http://diveintomark.org/archives/2009/03/27/dive-into-history-2009-edition&#39;/&gt;
    &lt;id&gt;tag:diveintomark.org,2009-03-27:/archives/20090327172042&lt;/id&gt;
    &lt;updated&gt;2009-03-27T21:56:07Z&lt;/updated&gt;
    &lt;published&gt;2009-03-27T17:20:42Z&lt;/published&gt;
    &lt;category scheme=&#39;http://diveintomark.org&#39; term=&#39;diveintopython&#39;/&gt;
    &lt;category scheme=&#39;http://diveintomark.org&#39; term=&#39;docbook&#39;/&gt;
    &lt;category scheme=&#39;http://diveintomark.org&#39; term=&#39;html&#39;/&gt;
    &lt;summary type=&#39;html&#39;&gt;Putting an entire chapter on one page sounds
      bloated, but consider this &amp;mdash; my longest chapter so far
      would be 75 printed pages, and it loads in under 5 seconds&amp;hellip;
      On dialup.&lt;/summary&gt;
  &lt;/entry&gt;
  &lt;entry&gt;
    &lt;author&gt;
      &lt;name&gt;Mark&lt;/name&gt;
      &lt;uri&gt;http://diveintomark.org/&lt;/uri&gt;
    &lt;/author&gt;
    &lt;title&gt;Accessibility is a harsh mistress&lt;/title&gt;
    &lt;link rel=&#39;alternate&#39; type=&#39;text/html&#39;
      href=&#39;http://diveintomark.org/archives/2009/03/21/accessibility-is-a-harsh-mistress&#39;/&gt;
    &lt;id&gt;tag:diveintomark.org,2009-03-21:/archives/20090321200928&lt;/id&gt;
    &lt;updated&gt;2009-03-22T01:05:37Z&lt;/updated&gt;
    &lt;published&gt;2009-03-21T20:09:28Z&lt;/published&gt;
    &lt;category scheme=&#39;http://diveintomark.org&#39; term=&#39;accessibility&#39;/&gt;
    &lt;summary type=&#39;html&#39;&gt;The accessibility orthodoxy does not permit people to
      question the value of features that are rarely useful and rarely used.&lt;/summary&gt;
  &lt;/entry&gt;
  &lt;entry&gt;
    &lt;author&gt;
      &lt;name&gt;Mark&lt;/name&gt;
    &lt;/author&gt;
    &lt;title&gt;A gentle introduction to video encoding, part 1: container formats&lt;/title&gt;
    &lt;link rel=&#39;alternate&#39; type=&#39;text/html&#39;
      href=&#39;http://diveintomark.org/archives/2008/12/18/give-part-1-container-formats&#39;/&gt;
    &lt;id&gt;tag:diveintomark.org,2008-12-18:/archives/20081218155422&lt;/id&gt;
    &lt;updated&gt;2009-01-11T19:39:22Z&lt;/updated&gt;
    &lt;published&gt;2008-12-18T15:54:22Z&lt;/published&gt;
    &lt;category scheme=&#39;http://diveintomark.org&#39; term=&#39;asf&#39;/&gt;
    &lt;category scheme=&#39;http://diveintomark.org&#39; term=&#39;avi&#39;/&gt;
    &lt;category scheme=&#39;http://diveintomark.org&#39; term=&#39;encoding&#39;/&gt;
    &lt;category scheme=&#39;http://diveintomark.org&#39; term=&#39;flv&#39;/&gt;
    &lt;category scheme=&#39;http://diveintomark.org&#39; term=&#39;GIVE&#39;/&gt;
    &lt;category scheme=&#39;http://diveintomark.org&#39; term=&#39;mp4&#39;/&gt;
    &lt;category scheme=&#39;http://diveintomark.org&#39; term=&#39;ogg&#39;/&gt;
    &lt;category scheme=&#39;http://diveintomark.org&#39; term=&#39;video&#39;/&gt;
    &lt;summary type=&#39;html&#39;&gt;These notes will eventually become part of a
      tech talk on video encoding.&lt;/summary&gt;
  &lt;/entry&gt;
&lt;/feed&gt;
</code></pre>
<p>先简单的看一下这个XML的结构
      <div class="post-readmore">
        <a class="readmore button" href="/article/872.html#more">Read More <i class="fas fa-angle-double-right"></i></a>
      </div>
      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        
        
        
        
        
        <a class="post-tag button" href="/tags/python/" style="background: #fc6423" rel="tag"><i class="fas fa-tags"></i> python</a>
        
        
        
        <a class="post-tag button" href="/tags/xml/" style="background: #a3bb54" rel="tag"><i class="fas fa-tags"></i> xml</a>
        
        
      </div>
      
    </footer>
  </article>
  
  <article class="index-post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://www.yangyanxing.com/article/871.html">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="杨彦星">
        <meta itemprop="description" content="人一切的痛苦，本质是都是对自已的无能的愤怒">
        <meta itemprop="image" content="/images/1.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="杨彦星">
      </span>
    </div>
    <header class="post-header">
      <h2 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/article/871.html" itemprop="url">使用python一步一步搭建微信公众平台（一）</a>
      </h2>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i> <time title="post-date" itemprop="dateCreated datePublished" datetime="2013-08-24T19:03:05+08:00">2013-08-24</time>
        </span>
        
        
        
        <span class="post-meta-divider"> | </span>
        
        <span class="post-categories">
          <i class="far fa-folder-open"></i>
          
          
          <span itemprop="about" itemscope itemtype="http://schema.org/Thing"> <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span>
          
          
        </span>
        
        
      </div>
    </header>
    <main class="post-body" itemprop="articleBody">
      
      <p>最近无聊，想玩玩微信的公众平台，后来发现乐趣无穷啊~</p>
<p>使用的工具，python 新浪SAE平台，微信的公众平台</p>
<p>你需要先在微信的公众平台与新浪SAE平台上各种注册，微信平台注册的时候需要你拍张手持身份证的照片，还有几天的审核期</p>
<p>微信公众平台：<a href="http://mp.weixin.qq.com/" title="微信公众平台" target="_blank" rel="noopener">http://mp.weixin.qq.com</a><br>
      <div class="post-readmore">
        <a class="readmore button" href="/article/871.html#more">Read More <i class="fas fa-angle-double-right"></i></a>
      </div>
      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        
        
        
        
        
        <a class="post-tag button" href="/tags/python/" style="background: #fc6423" rel="tag"><i class="fas fa-tags"></i> python</a>
        
        
      </div>
      
    </footer>
  </article>
  
  <article class="index-post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://www.yangyanxing.com/article/870.html">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="杨彦星">
        <meta itemprop="description" content="人一切的痛苦，本质是都是对自已的无能的愤怒">
        <meta itemprop="image" content="/images/1.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="杨彦星">
      </span>
    </div>
    <header class="post-header">
      <h2 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/article/870.html" itemprop="url">python发邮件是件很简单的事情</a>
      </h2>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i> <time title="post-date" itemprop="dateCreated datePublished" datetime="2013-08-08T00:09:33+08:00">2013-08-08</time>
        </span>
        
        
        
        <span class="post-meta-divider"> | </span>
        
        <span class="post-categories">
          <i class="far fa-folder-open"></i>
          
          
          <span itemprop="about" itemscope itemtype="http://schema.org/Thing"> <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span>
          
          
        </span>
        
        
      </div>
    </header>
    <main class="post-body" itemprop="articleBody">
      
      <p>利用python的smtplib，发邮件将是一件非常简单的事情，下文以用163邮箱来发邮件为例，说明smtplib的应用</p>
<pre><code class="python">#coding:utf-8
import smtplib

def sendMail(mail_to):
    mail_server = &#39;smtp.163.com&#39;
    mail_port = &#39;25&#39;
    username = &#39;soar_1987@163.com&#39;
    password = &#39;XXXXXXXX&#39;
    mail_title = &#39;python Test&#39;
    mail_content = &#39;This is a test from python for sending email&#39;
    if type(mail_to) == str:#之所以要有这样的判断是为了收件人是多个人或者传入的的收件人列表是以list的方式
        mail_list = mail_to.split(&#39;;&#39;) #将str类型的数据转换为list
    elif type(mail_to) == list:
        mail_list = mail_to
    else:
        print &quot;你输入的收件人格式有误&quot;

    try:
        handle = smtplib.SMTP(mail_server,mail_port)
        handle.login(username,password)
        msg = &quot;From:%srn To:%srnContent-Type: text/html;charset=gb2312rnSubject:%srnrn %s&quot;%(&quot;杨彦星&quot;,&quot;;&quot;.join(mail_list),mail_title,mail_content) #这里的msg其实就是一种固定的格式，From:To:Subject
        handle.sendmail(username,mail_list,msg)
        print &quot;Send email sucess&quot;
    except Exception,e:
        print &quot;Send email failed because %s&quot; % e

if __name__ ==&quot;__main__&quot;:
    sendMail(&#39;yanxingyang@gmail.com&#39;)
</code></pre>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        
        
        
        
        
        <a class="post-tag button" href="/tags/python/" style="background: #fc6423" rel="tag"><i class="fas fa-tags"></i> python</a>
        
        
      </div>
      
    </footer>
  </article>
  
  <article class="index-post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://www.yangyanxing.com/article/821.html">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="杨彦星">
        <meta itemprop="description" content="人一切的痛苦，本质是都是对自已的无能的愤怒">
        <meta itemprop="image" content="/images/1.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="杨彦星">
      </span>
    </div>
    <header class="post-header">
      <h2 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/article/821.html" itemprop="url">可爱的python中的一个与递归相关的小问题</a>
      </h2>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i> <time title="post-date" itemprop="dateCreated datePublished" datetime="2013-06-23T01:41:21+08:00">2013-06-23</time>
        </span>
        
        
        
        <span class="post-meta-divider"> | </span>
        
        <span class="post-categories">
          <i class="far fa-folder-open"></i>
          
          
          <span itemprop="about" itemscope itemtype="http://schema.org/Thing"> <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span>
          
          
        </span>
        
        
      </div>
    </header>
    <main class="post-body" itemprop="articleBody">
      
      <p>可爱的python一书中有一个练习题，是在一个目录中查找特定扩展名的文件，并且读取里面的内容，然后用户输入一个关键词，在这些文件中进行搜索，如果找到后就把这一行内容打印出来，他提出的问题是如果里面还有目录，目录里面还有更深的目录，解决这个问题，我想到的只能是递归。。。</p>
<pre><code class="python">#coding:utf-8
import os,sys

def cdGrep(keyword,filepath):
    filelist = os.listdir(filepath)

    for cdc in filelist:
        if os.path.isdir(cdc):
            filepath2 = os.path.join(filepath,cdc)
            cdGrep(keyword,filepath2)

        elif &#39;.txt&#39; in cdc:
#            print filepath+cdc
            f = open(filepath+&#39;&#39;+ cdc)
            for line in f.readlines():
                linelower = line.lower()
                if keyword in linelower:

                    print &#39;您查找的关键词在%s中找到&#39;% (filepath+&#39;&#39;+cdc)
                    print line
                f.close()

if __name__ == &#39;__main__&#39;:
    keword = raw_input(&#39;请输入想要查询的关键字&#39;)
    pw = os.getcwd()
    cdGrep(keword,pw)
</code></pre>
      <div class="post-readmore">
        <a class="readmore button" href="/article/821.html#more">Read More <i class="fas fa-angle-double-right"></i></a>
      </div>
      
    </main>
    <footer class="post-footer">
      
    </footer>
  </article>
  
  <article class="index-post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://www.yangyanxing.com/article/817.html">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="杨彦星">
        <meta itemprop="description" content="人一切的痛苦，本质是都是对自已的无能的愤怒">
        <meta itemprop="image" content="/images/1.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="杨彦星">
      </span>
    </div>
    <header class="post-header">
      <h2 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/article/817.html" itemprop="url">通过一个python小脚本来下载最新的360杀毒安装程序</a>
      </h2>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i> <time title="post-date" itemprop="dateCreated datePublished" datetime="2013-06-03T19:21:12+08:00">2013-06-03</time>
        </span>
        
        
        
        <span class="post-meta-divider"> | </span>
        
        <span class="post-categories">
          <i class="far fa-folder-open"></i>
          
          
          <span itemprop="about" itemscope itemtype="http://schema.org/Thing"> <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span>
          
          
        </span>
        
        
      </div>
    </header>
    <main class="post-body" itemprop="articleBody">
      
      <p>小脚本很简单，主要是练习一下正则匹配，与简单的urllib库的应用</p>
<pre><code class="python">#coding: utf8
import urllib,re
import os

def getLastinstall():

    page = urllib.urlopen(r&#39;http://sd.360.cn/download_center.html&#39;)
    html = page.read()
    page.close()
    rematch = r&#39;http://down.360.cn/360sd/360sd_se_(.*?)exe&#39;
    replusmatch = r&#39;http://down.360.cn/360sd/360sd_plus_(.*?)exe&#39;
    stdname = &#39;360sd_&#39;+(str(re.compile(rematch).findall(html)[0]))+&#39;exe&#39;
    downurlstd = r&#39;http://down.360.cn/360sd/360sd_&#39;+(str(re.compile(rematch).findall(html)[0]))+&#39;exe&#39;
    powname = &#39;360sd_plus_&#39;+(str(re.compile(replusmatch).findall(html)[0]))+&#39;exe&#39;
    downurlpow = r&#39;http://down.360.cn/360sd/360sd_plus_&#39;+(str(re.compile(replusmatch).findall(html)[0]))+&#39;exe&#39;
    localpath = os.getcwd()+r&#39;/installpack&#39;
    if not (os.path.isfile(stdname) and os.path.isfile(powname)):
        if not os.path.isdir(&#39;installpack&#39;):
            os.makedirs(&#39;installpack&#39;)
        urllib.urlretrieve(downurlstd,localpath+&#39;/&#39;+stdname)
        urllib.urlretrieve(downurlpow,localpath+&#39;/&#39;+powname)
    else:
        print &#39;目录中已经是线上最新版杀毒安装程序&#39;

if __name__ ==&#39;__main__&#39;:
    getLastinstall()
</code></pre>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        
        
        
        
        
        <a class="post-tag button" href="/tags/python/" style="background: #fc6423" rel="tag"><i class="fas fa-tags"></i> python</a>
        
        
      </div>
      
    </footer>
  </article>
  
  <article class="index-post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://www.yangyanxing.com/article/813.html">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="杨彦星">
        <meta itemprop="description" content="人一切的痛苦，本质是都是对自已的无能的愤怒">
        <meta itemprop="image" content="/images/1.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="杨彦星">
      </span>
    </div>
    <header class="post-header">
      <h2 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/article/813.html" itemprop="url">python中的OOP</a>
      </h2>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i> <time title="post-date" itemprop="dateCreated datePublished" datetime="2013-06-01T22:17:55+08:00">2013-06-01</time>
        </span>
        
        
        
        <span class="post-meta-divider"> | </span>
        
        <span class="post-categories">
          <i class="far fa-folder-open"></i>
          
          
          <span itemprop="about" itemscope itemtype="http://schema.org/Thing"> <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span>
          
          
        </span>
        
        
      </div>
    </header>
    <main class="post-body" itemprop="articleBody">
      
      <p>直接上代码，已经在后面有注释了</p>
<pre><code class="python">#coding:utf8

name = &#39;yangyanxing&#39;
class Test():
    class kevin():
        var1 = &#39;我是内部类&#39;

    name = &#39;kvein&#39;
    gae = &#39;26&#39;

    def fun1(self):
        print self.name
        print &#39;我是公共方法&#39;
        self.__fun2() #可以通过公有就去来调用私有方法，在调用的过程中可以进行更改

    def __fun2(self):
        print &#39;我是私有方法&#39;

    @classmethod
    def fun3(self): #可以不通过实例来访问这个类方法
        print &#39;#&#39;*40
        print self.name
        print &#39;我是类方法&#39;

    @staticmethod #静态方法，也是可以不通过实例对象就可以访问的方法但是在定义的时候不用加self
    def fun4():
        print Test.name
        print name #这里的name是全局变量
        Test.fun3()
        print &#39;我是静态方法&#39;

print Test.name #公有属性可以直接方法，不用实例化对象
yang = Test() #实例化一个类
interyang = Test.kevin() #实例化一个内部类
yang.fun1() #方法类里面的公共属性
print interyang.var1 # 访问内部类里的属性
Test.fun3()#访问类方法
Test.fun4()
</code></pre>
<pre><code class="python">#coding:utf8

class Test():
    var1 = &#39;类的公有属性&#39;
    __var2 = &#39;类的私有属性&#39;

    def fun(self):
        self.var2 = &#39;对象的公有属性&#39; # 这里定义了一个对象的公有属性
        self.__var3 = &#39;对象的私有属性&#39;# 这里定义了一个对象的私有属性
        var4 = &#39;函数的局部变量&#39; #这里定义了一个函数的局部变量，这里面的var4只有在函数内部使用

kevin = Test() #实例了一个对象
yang = Test() #又实例了另外一个对象
print kevin.var1
##print kevin.__var2 #这里将无法访问
kevin.fun()
print kevin.var2 #在没有调用fun函数之前是没有var2的
##print kevin.__var3 对象的私有属性是无法调用的
##print yang.var2 #这里因为没有调用yang的fun方法，所以还是无法访问yang里的var2
</code></pre>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        
        
        
        
        
        <a class="post-tag button" href="/tags/python/" style="background: #fc6423" rel="tag"><i class="fas fa-tags"></i> python</a>
        
        
      </div>
      
    </footer>
  </article>
  
  <article class="index-post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://www.yangyanxing.com/article/806.html">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="杨彦星">
        <meta itemprop="description" content="人一切的痛苦，本质是都是对自已的无能的愤怒">
        <meta itemprop="image" content="/images/1.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="杨彦星">
      </span>
    </div>
    <header class="post-header">
      <h2 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/article/806.html" itemprop="url">一个python的小脚本登录人人并抓取新鲜事</a>
      </h2>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i> <time title="post-date" itemprop="dateCreated datePublished" datetime="2013-05-29T00:30:48+08:00">2013-05-29</time>
        </span>
        
        
        
        <span class="post-meta-divider"> | </span>
        
        <span class="post-categories">
          <i class="far fa-folder-open"></i>
          
          
          <span itemprop="about" itemscope itemtype="http://schema.org/Thing"> <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span>
          
          
        </span>
        
        
      </div>
    </header>
    <main class="post-body" itemprop="articleBody">
      
      <pre><code class="python">from sgmllib import SGMLParser
import sys,urllib2,urllib,cookielib
class spider(SGMLParser):
    def __init__(self,email,password):
        SGMLParser.__init__(self)
        self.h3=False
        self.h3_is_ready=False
        self.div=False
        self.h3_and_div=False
        self.a=False
        self.depth=0
        self.names=&quot;&quot;
        self.dic={}

        self.email=email
        self.password=password
        self.domain=&#39;renren.com&#39;
        try:
            cookie=cookielib.CookieJar()
            cookieProc=urllib2.HTTPCookieProcessor(cookie)
        except:
            raise
        else:
            opener=urllib2.build_opener(cookieProc)
            urllib2.install_opener(opener)

    def login(self):
        url=&#39;http://www.renren.com/PLogin.do&#39;
        postdata={
                  &#39;email&#39;:self.email,
                  &#39;password&#39;:self.password,
                  &#39;domain&#39;:self.domain
                  }
        req=urllib2.Request(
                            url,
                            urllib.urlencode(postdata)
                            )

        self.file=urllib2.urlopen(req).read()
        #print self.file
    def start_h3(self,attrs):
        self.h3 = True
    def end_h3(self):
        self.h3=False
        self.h3_is_ready=True

    def start_a(self,attrs):
        if self.h3 or self.div:
            self.a=True
    def end_a(self):
        self.a=False

    def start_div(self,attrs):
        if self.h3_is_ready == False:
            return
        if self.div==True:
            self.depth += 1

        for k,v in attrs:
            if k == &#39;class&#39; and v == &#39;content&#39;:
                self.div=True;
                self.h3_and_div=True   #h3 and div is connected
    def end_div(self):
        if self.depth == 0:
            self.div=False
            self.h3_and_div=False
            self.h3_is_ready=False
            self.names=&quot;&quot;
        if self.div == True:
            self.depth-=1
    def handle_data(self,text):
        #record the name
        if self.h3 and self.a:
            self.names+=text
        #record says
        if self.h3 and (self.a==False):
            if not text:pass
            else: self.dic.setdefault(self.names,[]).append(text)
            return
        if self.h3_and_div:
            self.dic.setdefault(self.names,[]).append(text)

    def show(self):
        type = sys.getfilesystemencoding()
        for key in self.dic:
            print ( (&#39;&#39;.join(key)).replace(&#39; &#39;,&#39;&#39;)).decode(&#39;utf-8&#39;).encode(type),
                  ( (&#39;&#39;.join(self.dic[key])).replace(&#39; &#39;,&#39;&#39;)).decode(&#39;utf-8&#39;).encode(type)

if __name__ ==&#39;__main__&#39;:
    renrenspider=spider(&#39;email&#39;,&#39;password&#39;)
    renrenspider.login()
    renrenspider.feed(renrenspider.file)
    renrenspider.show()
</code></pre>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        
        
        
        
        
        <a class="post-tag button" href="/tags/python/" style="background: #fc6423" rel="tag"><i class="fas fa-tags"></i> python</a>
        
        
      </div>
      
    </footer>
  </article>
  
  <article class="index-post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://www.yangyanxing.com/article/779.html">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="杨彦星">
        <meta itemprop="description" content="人一切的痛苦，本质是都是对自已的无能的愤怒">
        <meta itemprop="image" content="/images/1.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="杨彦星">
      </span>
    </div>
    <header class="post-header">
      <h2 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/article/779.html" itemprop="url">(转)抛砖引玉 正则表达式完成电话号码的匹配</a>
      </h2>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i> <time title="post-date" itemprop="dateCreated datePublished" datetime="2013-03-18T23:24:26+08:00">2013-03-18</time>
        </span>
        
        
        
        <span class="post-meta-divider"> | </span>
        
        <span class="post-categories">
          <i class="far fa-folder-open"></i>
          
          
          <span itemprop="about" itemscope itemtype="http://schema.org/Thing"> <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span>
          
          
        </span>
        
        
      </div>
    </header>
    <main class="post-body" itemprop="articleBody">
      
      <p>原来地址：<a href="http://www.diveintopython.net/regular_expressions/phone_numbers.html" target="_blank" rel="noopener">http://www.diveintopython.net/regular_expressions/phone_numbers.html</a></p>
<p>迄今为止，你主要是匹配整个模式，不论是匹配上，还是没有匹配上。但是正则表达式还有比这更为强大的功能。当一个模式确实 匹配上时，你可以获取模式中特定的片断，你可以发现具体匹配的位置。 这个例子来源于我遇到的另一个现实世界的问题，也是在以前的工作中遇到的。问题是：解析一个美国电话号码。客户要能 (在一个单一的区域中) 输入任何数字，然后存储区号、干线号、电话号和一个可选的独立的分机号到公司数据库里。为此，我通过网络找了很多正则表达式的例子，但是没有一个能够完全满足我的要求。 这里列举了我必须能够接受的电话号码：<br> 800-555-1212<br> 800 555 1212<br> 800.555.1212<br> (800) 555-1212<br> 1-800-555-1212<br> 800-555-1212-1234<br> 800-555-1212x1234<br> 800-555-1212 ext. 1234<br> work 1-(800) 555.1212 #1234<br>格式可真够多的！我需要知道区号是 800，干线号是 555，电话号的其他数字为 1212。对于那些有分机号的，我需要知道分机号为 1234。 让我们完成电话号码解析这个工作，这个例子展示第一步。<br>例 7.10. 发现数字</p>
<blockquote>
<p>phonePattern = re.compile(r’^(d{3})-(d{3})-(d{4})$’) (1)<br>phonePattern.search(‘800-555-1212’).groups() (2)</p>
</blockquote>
      <div class="post-readmore">
        <a class="readmore button" href="/article/779.html#more">Read More <i class="fas fa-angle-double-right"></i></a>
      </div>
      
    </main>
    <footer class="post-footer">
      
    </footer>
  </article>
  
  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fas fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/8/"><i class="fas fa-angle-right"></i></a>
  </nav>
  
  
</section>

          </div>
          
          
          
<aside class="sidebar" id="sidebar">
  
  <div class="search">
    <div class="form-group">
      <i class="fas fa-search"></i> <input type="text" id="search-input" name="q" results="0" placeholder="Search" class="form-control"/>
    </div>
  </div>
  <div class="search-result-box" id="search-result"></div>
  
  
<div class="info sidebar-item" id="info">
  
  <img class="author-avatar" src="/images/1.jpg" alt="杨彦星">
  
  <p class="author-name">杨彦星</p>
  <p class="author-description"> 人一切的痛苦，本质是都是对自已的无能的愤怒</p>
  <div class="site-count">
    
    
    
  </div>
  
  <div class="rss">
    <a class="rss-link button sidebar-item" href="/atom.xml"><i class="fas fa-rss"></i> RSS</a>
  </div>
  
</div>


  <div class="sidebar-sticky">
    
    
    
<hr>
<div class="social-link sidebar-item">
  <p><i class="far fa-address-card"></i> Social Links</p>
  <ul>
    
    <li><i class="fab fa-github"></i> <a href="https://github.com/kevinkelin" target="_blank">GitHub</a></li>
    
    <li><i class="fab fa-weibo"></i> <a href="https://weibo.com/kevinkelin" target="_blank">Weibo</a></li>
    
    <li><i class="far fa-envelope"></i> <a href="mailto:admin@yangyanxing.com" target="_blank">Email</a></li>
    
    <li><i class="fab fa-facebook"></i> <a href="https://www.facebook.com/yangyanxing" target="_blank">Facebook</a></li>
    
    <li><i class="fab fa-twitter"></i> <a href="https://www.twitter.com/yangyanxing" target="_blank">Twitter</a></li>
    
  </ul>
</div>


    
    
    
<hr>
<div class="blogroll sidebar-item">
  <p><i class="fas fa-link"></i> Blogroll</p>
  <ul>
    
    <li><a href="http://www.liaoxuefeng.com/" target="_blank">廖雪峰</a></li>
    
    <li><a href="http://blog.csdn.net/itfootball" target="_blank">D.Q的专栏</a></li>
    
    <li><a href="http://opentest.360.cn/" target="_blank">360开测</a></li>
    
    <li><a href="https://testerhome.com/" target="_blank">TesterHome</a></li>
    
    <li><a href="http://www.androiddevtools.cn/" target="_blank">AndroidDev</a></li>
    
    <li><a href="http://blog.csdn.net/guolin_blog" target="_blank">郭霖的专栏</a></li>
    
    <li><a href="http://coolshell.cn/" target="_blank">酷壳</a></li>
    
    <li><a href="http://www.ruanyifeng.com/blog/archives.html" target="_blank">阮一峰</a></li>
    
    <li><a href="http://stormzhang.com/" target="_blank">stormzhang博客</a></li>
    
    <li><a href="https://imququ.com/" target="_blank">Jerry Qu</a></li>
    
  </ul>
</div>


    
  </div>
</aside>


          
        </div>
      </div>
    </main>
    
<footer id="footer" class="footer">
  <div class="container">
    <div class="back-to-top">
      <a id="back-to-top"><i class="fas fa-angle-double-up"></i></a>
    </div>
    <div class="footer-container">
      <div class="footer-left">
        <div class="copyright">
          <span class="author">杨彦星</span>
          <span class="year"><i class="far fa-copyright"></i> 2010 - 2018</span>
          
          <span class="creative-commons"><i class="fab fa-creative-commons"></i> <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">BY-NC-SA 4.0</a></span>
          
          <br>
          <span>
          <a href="http://www.miitbeian.gov.cn/" target="_blank" class="text-muted">京ICP备18004468号</a>
          <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1257423854'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1257423854%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script></span>

            <script>
				(function(){
				    var bp = document.createElement('script');
				    var curProtocol = window.location.protocol.split(':')[0];
				    if (curProtocol === 'https'){
				   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
				  }
				  else{
				  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
				  }
				    var s = document.getElementsByTagName("script")[0];
				    s.parentNode.insertBefore(bp, s);
				})();
			</script>
        </div>
        
      </div>
      <div class="footer-right">
        <div class="custom-info">
            <p>Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a></p>
        </div>
        <div class="powered-by">
          Proudly Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> | Theme is <a href="https://github.com/AlynxZhou/hexo-theme-aria/" target="_blank">ARIA</a>
        </div>
      </div>
    </div>
  </div>
  
</footer>


  </body>
</html>
